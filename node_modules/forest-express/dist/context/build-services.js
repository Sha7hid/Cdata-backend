"use strict";

/* eslint-disable global-require */
var createForestAdminClient = require('@forestadmin/forestadmin-client')["default"];
module.exports = function (context) {
  return context.addInstance('logger', function () {
    return require('../services/logger');
  }).addUsingFunction('forestAdminClient', function (_ref) {
    var env = _ref.env,
      _logger = _ref.logger;
    return createForestAdminClient({
      forestServerUrl: env.FOREST_URL,
      envSecret: env.FOREST_ENV_SECRET,
      logger: function logger(level) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        return env.DEBUG ? _logger[level.toLowerCase()].apply(_logger, args) : {};
      }
    });
  }).addInstance('chartHandler', function (_ref2) {
    var forestAdminClient = _ref2.forestAdminClient;
    return forestAdminClient.chartHandler;
  }).addUsingClass('authorizationService', function () {
    return require('../services/authorization/authorization')["default"];
  }).addUsingClass('actionAuthorizationService', function () {
    return require('../services/authorization/action-authorization')["default"];
  }).addInstance('pathService', function () {
    return require('../services/path');
  }).addInstance('errorHandler', function () {
    return require('../services/exposed/error-handler');
  }).addInstance('ipWhitelist', function () {
    return require('../services/ip-whitelist');
  }).addInstance('forestServerRequester', function () {
    return require('../services/forest-server-requester');
  }).addInstance('schemasGenerator', function () {
    return require('../generators/schemas');
  }).addInstance('baseFilterParser', function () {
    return require('../services/base-filters-parser');
  }).addUsingClass('projectDirectoryFinder', function () {
    return require('../services/project-directory-finder');
  }).addUsingClass('configStore', function () {
    return require('../services/config-store');
  }).addUsingClass('apimapFieldsFormater', function () {
    return require('../services/apimap-fields-formater');
  }).addUsingClass('authorizationFinder', function () {
    return require('../services/authorization-finder');
  }).addUsingClass('apimapSorter', function () {
    return require('../services/apimap-sorter');
  }).addUsingClass('apimapSender', function () {
    return require('../services/apimap-sender');
  }).addUsingClass('schemaFileUpdater', function () {
    return require('../services/schema-file-updater');
  }).addUsingClass('scopeManager', function () {
    return require('../services/scope-manager');
  }).addUsingClass('modelsManager', function () {
    return require('../services/models-manager');
  }).addUsingClass('tokenService', function () {
    return require('../services/token');
  }).addUsingClass('oidcConfigurationRetrieverService', function () {
    return require('../services/oidc-configuration-retriever');
  }).addUsingClass('oidcClientManagerService', function () {
    return require('../services/oidc-client-manager');
  }).addUsingClass('authenticationService', function () {
    return require('../services/authentication');
  }).addUsingClass('smartActionFieldValidator', function () {
    return require('../services/smart-action-field-validator');
  }).addUsingClass('smartActionHookService', function () {
    return require('../services/smart-action-hook-service');
  }).addUsingClass('smartActionHookDeserializer', function () {
    return require('../deserializers/smart-action-hook');
  });
};